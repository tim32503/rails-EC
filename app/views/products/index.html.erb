<h2>商品管理</h2>
<hr>
<div class="row">
  <div class="col">
    <h3><%= "#{ @products.size } 件商品" %></h3>
  </div>
  <div class="col align-self-center text-end">
    <%= link_to "＋ 新增商品", new_product_path, class: "btn btn-warning" %>
  </div>
</div>


<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>序號</th>
      <th colspan="2">商品名稱</th>
      <th>價格</th>
      <th>庫存數量</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    <% if @products.size == 0 %>
      <tr>
        <td colspan="6" class="text-center">沒有符合的商品</td>
      </tr>
    <% else %>
      <% @products.each_with_index do |product, index| %>
        <tr class="align-middle">
          <td><%= "##{ index + 1 }" %></td>
          <td><%= image_tag(product.cover_url, class: 'image-preview') if product.cover? %></td>
          <td><%= product.name %></td>
          <td><%= product.price %></td>
          <td><%= product.quantity %></td>
          <td>
            <%= link_to "編輯", edit_product_path(product.id), class: "col btn btn-warning" %>
            <%= link_to "刪除", product_path(product.id), class: "col btn btn-outline-danger", method: :delete, data: { confirm: "確定刪除嗎？" } %>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>